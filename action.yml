name: 'Test Scanner POC'
description: 'Example of reusable action'
inputs:
  sonar-host:
    description: 'SonarQube host'
    required: true
  sonar-token:
    description: 'SonarQube token'
    required: true
runs:
  using: "composite"
  steps:
    - run: echo "Scanner version V1"
      shell: bash
    - name: Set GitHub Path
      run: echo "$GITHUB_ACTION_PATH" >> $GITHUB_PATH
      shell: bash
      env:
        GITHUB_ACTION_PATH: ${{ github.action_path }}
    - name: Set permissions
      run: chmod +x run-scanner.sh
      shell: bash
    - name: Run scanner bash
      run: ./run-scanner.sh --workspace ${{ github.workspace }} --sonar-host ${{ inputs.sonar-host }} --sonar-token ${{ inputs.sonar-token }}
      shell: bash